% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/survivalHelpers.R
\name{defineExposedCohortForPair}
\alias{defineExposedCohortForPair}
\title{Define Exposed Cohort for a Specific Exposure-Outcome Pair}
\usage{
defineExposedCohortForPair(
  cohortBaseForOutcome,
  allConditionFirstDates,
  outcomeDatesCurrentOutcome,
  exposureId,
  session
)
}
\arguments{
\item{cohortBaseForOutcome}{A tibble representing the cohort that has already
passed the outcome-specific washout, as returned by \code{filterByWashoutAndGetOutcomeDates}.}

\item{allConditionFirstDates}{A tibble containing first occurrence dates for
all relevant concept IDs, as returned by \code{fetchDataForSurvAnalysis}.}

\item{outcomeDatesCurrentOutcome}{A tibble with \code{person_id} and \code{outcome_date}
for the specific outcome being analyzed in the current loop iteration.}

\item{exposureId}{The numeric concept ID of the exposure condition.}

\item{session}{The Shiny session object (used for notifications).}
}
\value{
A list containing:
\describe{
\item{exposed}{A tibble defining the exposed cohort for this pair. Contains unique exposure events (\code{exposed_person_id}, \code{index_date}, \code{year_of_birth}, \code{gender_concept_id}) meeting the criteria.}
\item{exposureDates}{A tibble with \code{person_id} and \code{exposure_date} (first occurrence) for the specific \code{exposureId} among the \code{cohortBaseForOutcome}.}
}
Returns \code{NULL} for \code{exposed} if no valid exposed individuals are found.
}
\description{
Identifies individuals exposed to a specific condition within a
pre-filtered (washout-applied) cohort. Ensures exposure occurs within
the observation period and that the outcome (if present for the person)
occurs strictly \emph{after} the exposure date.
}
