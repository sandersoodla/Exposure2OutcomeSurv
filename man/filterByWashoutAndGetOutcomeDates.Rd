% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/survivalHelpers.R
\name{filterByWashoutAndGetOutcomeDates}
\alias{filterByWashoutAndGetOutcomeDates}
\title{Filter Cohort by Outcome Washout and Get Corresponding Outcome Dates}
\usage{
filterByWashoutAndGetOutcomeDates(
  cohortBase,
  allConditionDates,
  outcomeId,
  washoutYears,
  session = NULL
)
}
\arguments{
\item{cohortBase}{A tibble representing the base cohort, containing demographics and
observation period data from \code{fetchDataForSurvAnalysis}, joined together by person_id.}

\item{allConditionDates}{A tibble containing first occurrence dates for
all relevant concept IDs (\code{person_id}, \code{concept_id}, \code{condition_start_date}).
Typically obtained from \code{fetchDataForSurvAnalysis}.}

\item{outcomeId}{The numeric concept ID of the outcome condition for which
to apply washout and extract dates.}

\item{washoutYears}{The minimum number of years for the washout period.}

\item{session}{Optional. The Shiny session object.}
}
\value{
A list containing:
\describe{
\item{cohortEligible}{A tibble containing the subset of \code{cohortBase} that meets the washout criteria for the specified \code{outcomeId}.}
\item{outcomeDates}{A tibble with \code{person_id} and \code{outcome_date} (first occurrence) specifically for the provided \code{outcomeId}.}
}
Returns an empty tibble for \code{cohortEligible} if no persons remain after washout.
}
\description{
Filters a base cohort based on a washout period for a specific outcome ID.
It also extracts and returns a table containing the first occurrence dates
of that specific outcome.
}
\details{
Individuals are kept in the filtered cohort if they either do not have the
outcome or if their first occurrence is on or after the required washout
period end date (relative to their observation start date).
}
\keyword{internal}
