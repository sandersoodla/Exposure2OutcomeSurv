<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Perform Incidence Density Matching for an Exposure-Outcome Pair — performPairMatching • Exposure2OutcomeSurv</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Perform Incidence Density Matching for an Exposure-Outcome Pair — performPairMatching"><meta name="description" content="Matches unexposed controls to exposed individuals based on incidence density
sampling principles. Matching is performed on gender (exact) and age
(nearest neighbor based on year of birth) within the risk set at the
exposed individual's index date. Controls must be free of both the specific
exposure and outcome prior to the index date."><meta property="og:description" content="Matches unexposed controls to exposed individuals based on incidence density
sampling principles. Matching is performed on gender (exact) and age
(nearest neighbor based on year of birth) within the risk set at the
exposed individual's index date. Controls must be free of both the specific
exposure and outcome prior to the index date."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Exposure2OutcomeSurv</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sandersoodla/Exposure2OutcomeSurv/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Perform Incidence Density Matching for an Exposure-Outcome Pair</h1>
      <small class="dont-index">Source: <a href="https://github.com/sandersoodla/Exposure2OutcomeSurv/blob/master/R/survivalHelpers.R" class="external-link"><code>R/survivalHelpers.R</code></a></small>
      <div class="d-none name"><code>performPairMatching.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Matches unexposed controls to exposed individuals based on incidence density
sampling principles. Matching is performed on gender (exact) and age
(nearest neighbor based on year of birth) within the risk set at the
exposed individual's index date. Controls must be free of both the specific
exposure and outcome prior to the index date.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">performPairMatching</span><span class="op">(</span></span>
<span>  <span class="va">exposedCohortDefinition</span>,</span>
<span>  <span class="va">controlsPoolBaseOutcome</span>,</span>
<span>  <span class="va">exposureDatesCurrentExposure</span>,</span>
<span>  <span class="va">matchRatio</span>,</span>
<span>  <span class="va">exposureId</span>,</span>
<span>  <span class="va">outcomeId</span>,</span>
<span>  session <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-exposedcohortdefinition">exposedCohortDefinition<a class="anchor" aria-label="anchor" href="#arg-exposedcohortdefinition"></a></dt>
<dd><p>A tibble of exposed individuals eligible for
matching, as returned by <code>defineExposedCohortForPair</code>. Must contain
<code>exposed_person_id</code>, <code>index_date</code>, <code>year_of_birth</code>, <code>gender_concept_id</code>.</p></dd>


<dt id="arg-controlspoolbaseoutcome">controlsPoolBaseOutcome<a class="anchor" aria-label="anchor" href="#arg-controlspoolbaseoutcome"></a></dt>
<dd><p>A tibble representing the potential control
pool (passed outcome washout), containing <code>person_id</code>, <code>year_of_birth</code>,
<code>gender_concept_id</code>, <code>obs_start_date</code>, <code>obs_end_date</code>, and potentially <code>outcome_date</code>.</p></dd>


<dt id="arg-exposuredatescurrentexposure">exposureDatesCurrentExposure<a class="anchor" aria-label="anchor" href="#arg-exposuredatescurrentexposure"></a></dt>
<dd><p>A tibble containing <code>person_id</code> and
<code>exposure_date</code> for the specific exposure being matched.</p></dd>


<dt id="arg-matchratio">matchRatio<a class="anchor" aria-label="anchor" href="#arg-matchratio"></a></dt>
<dd><p>The target number of controls to match to each exposed person.</p></dd>


<dt id="arg-exposureid">exposureId<a class="anchor" aria-label="anchor" href="#arg-exposureid"></a></dt>
<dd><p>The numeric concept ID of the exposure (for notifications).</p></dd>


<dt id="arg-outcomeid">outcomeId<a class="anchor" aria-label="anchor" href="#arg-outcomeid"></a></dt>
<dd><p>The numeric concept ID of the outcome (for notifications).</p></dd>


<dt id="arg-session">session<a class="anchor" aria-label="anchor" href="#arg-session"></a></dt>
<dd><p>Optional. The Shiny session object.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing:</p><dl><dt>matchedData</dt>
<dd><p>A tibble containing the matched sets. Includes <code>person_id</code>, <code>exposure_status</code> (1 for exposed, 0 for control), <code>index_date</code> (from the matched exposed person), and <code>set_id</code> (linking members of a matched set).</p></dd>

<dt>nMatchedExposed</dt>
<dd><p>The number of exposed individuals for whom at least one control was successfully matched.</p></dd>


</dl><p>Returns <code>NULL</code> for <code>matchedData</code> if no matched sets could be created.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sander Soodla.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

